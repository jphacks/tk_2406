## GitHub Projectを使ったタスク管理

![](./proj_task.png)
GithubにあるProjectでTask管理をしている。すで(10/25 Fri)にタスクは書いてある。

## ブランチのルールとか
main への直push禁止。必ず別のブランチを切ったうえでpull requestを出すこと。



## Pull Requestの使い方
- `git switch -c xxxx` // ブランチxxxxという名前で新規ブランチを作成
- 編集する
- `git add {編集したファイル}`
- `git commit {コミットメッセージ}`
- `git push` // このpushはうまくいくはず、
    -  `git push --set-upstream origin xxxx` (初めてならこっち)
- ブラウザでgithub を見に行って PRを出す。branchを変更するとでてくる
![](./pr_test.png)


## Fast Foward mergeをしよう！
GPTが良いことを言っていたのでほぼ転記。

PR（Pull Request）を提出する際に、リポジトリの管理者やルールでFast-forwardマージが要請される場合、通常は「直線的な履歴を持つこと」が求められます。この要件に従うためには、ローカルでの作業ブランチをリベースすることが必要です。以下に、具体的な手順を示します。

### 1. **作業ブランチの最新の状態を取得**
   - 作業中のブランチ（ここでは`feature-branch`）に移動します。
   ```bash
   git checkout feature-branch
   ```

### 2. **メインブランチの最新の変更を取得**
   - 通常、`main`ブランチや`develop`ブランチがメインブランチになります。リモートから最新の変更を取得し、ローカルのメインブランチに反映させます。
   ```bash
   git fetch origin
   git checkout main
   git pull origin main
   ```

### 3. **作業ブランチをリベース**
   - 作業中のブランチに戻り、メインブランチの最新の変更をリベースします。
   ```bash
   git checkout feature-branch
   git rebase main
   ```
   - この操作により、作業ブランチのコミットがメインブランチの先頭に「直線的に」適用され、Fast-forwardが可能になります。

### 4. **リベース中の競合解決**
   - リベース中に競合が発生した場合、Gitは競合箇所を報告します。競合を手動で解決した後、以下のコマンドでリベースを続行します。
   ```bash
   git add <conflicted-file>
   git rebase --continue
   ```
   - すべての競合が解決されるまで、このプロセスを繰り返します。

### 5. **リモートリポジトリにプッシュ（フォースプッシュが必要）**
   - リベース後、リモートの`feature-branch`と履歴が異なるため、フォースプッシュが必要になります。
   ```bash
   git push origin feature-branch --force
   ```
   - フォースプッシュは慎重に行う必要がありますが、リベース後の変更をリモートに反映するためには必要なステップです。

### 6. **PRを提出**
   - リモートリポジトリにフォースプッシュした後、通常どおりPRを提出します。
   - PRの作成時に、メインブランチとの履歴が直線的であるため、Fast-forwardマージが可能な状態になっています。

### 7. **PRのレビューとマージ**
   - プロジェクトのメンテナーやレビュー担当者がPRを確認し、問題がなければFast-forwardでマージします。
   - Fast-forwardマージは、通常のマージコミットを生成しないため、よりクリーンなコミット履歴を維持できます。

### 注意点
- **リベースは慎重に**: リベースはコミット履歴を書き換える操作のため、他のチームメンバーと共有されているブランチでは注意が必要です。
- **フォースプッシュの影響を理解する**: フォースプッシュにより、同じブランチを利用している他のメンバーのローカル環境に影響が出る可能性があるため、適切なタイミングで実行します。

これにより、Fast-forwardが要請される場合でも、PRを提出する準備が整います。